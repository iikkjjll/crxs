function showAiScriptMsg(n){var e=document.createElement("div");e.id="vue-app-element",document.body.appendChild(e);var t='<svg t="1563177631947" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1978"><path d="M924.792 895.746l-383.83-384.758 381.808-382.733c7.997-8.017 7.997-21.016 0-29.032-7.999-8.018-20.962-8.018-28.962 0l-381.809 382.732-381.808-382.732c-7.997-8.018-20.964-8.018-28.962 0-7.996 8.018-7.996 21.016 0 29.032l381.809 382.733-383.831 384.758c-7.996 8.017-7.996 21.016 0 29.032 3.998 4.007 9.24 6.012 14.482 6.012 5.241 0 10.483-2.005 14.482-6.012l383.83-384.758 383.83 384.758c3.999 4.007 9.239 6.012 14.482 6.012s10.481-2.005 14.482-6.012c7.996-8.017 7.996-21.016-0.001-29.032z" p-id="1979"></path></svg>',i=`\n    <template id="vue-app-template">\n        <link rel="stylesheet" href="${chrome.extension.getURL("lib/vue-element/index.css")}">\n        <style>\n            #app{\n                font-size: 12px;\n            }\n            .wrapper{\n                color: black;\n                position: fixed;\n                top: 50px;\n                right: 50px;\n                background: #fff;\n                border: 1px solid #eee;\n                padding: 16px;\n                width: 300px;\n                box-shadow: 0px 0px 8px 0px #eee;\n                z-index: 1111111;\n                border-radius: 8px;\n            }\n            .header img{\n                height: 16px;\n                vertical-align: middle;\n                margin-right: 4px;\n            }\n            .btn-close{\n                height: 14px;\n                position: absolute;\n                top: 16px;\n                right: 16px;\n                padding: 0;\n            }\n            .btn-close svg{\n                width: 12px;\n            }\n            .content{\n                padding: 8px 0;\n            }\n            .opts{\n                display: flex;\n                justify-content: space-between;\n            }\n            .opts .el-button{\n                padding: 4px 8px;\n                margin: 0 4px;\n            }\n            .wrapper .el-checkbox__label{\n                font-size: 12px;\n                padding-left: 3px;\n            }\n        </style>\n        <div id="app">\n            <transition name="fade">\n            <div class="wrapper" v-if="!text && dialogVisible">\n                <div class="header">\n                    <img src="${chrome.extension.getURL("icon-small.png")}">Fatkun{{smart}}\n                    <el-button type="text" class="btn-close" @click="handleClose">\n                        ${t}\n                    </el-button>\n                </div>\n                <div class="content">\n                    {{content}}\n                </div>\n                <div class="opts">\n                    <div>\n                        <el-checkbox @change="noInstallTipAgain">{{doNotShowAgain}}</el-checkbox>\n                    </div>\n                    <div>\n                        <el-button size="mini" @click="handleClose">{{cancel}}</el-button>\n                        <el-button size="mini" @click="handleEnable">{{enable}}</el-button>\n                    </div>\n                </div>\n            </div>\n            <div class="wrapper" v-if="needUpdate && dialogVisible">\n                <div class="header">\n                    <img src="${chrome.extension.getURL("icon-small.png")}">Fatkun{{smart}}\n                    <el-button type="text" class="btn-close" @click="handleClose">\n                        ${t}\n                    </el-button>\n                </div>\n                <div class="content">\n                    {{name}}{{publish}}！\n                    <p v-if="updateDesc" style="color: darkgoldenrod;">{{updateDesc}}</p>\n                </div>\n                <div class="opts">\n                    <div>\n                        <el-checkbox @change="noUpdateTipAgain">{{doNotShowAgain}}</el-checkbox>\n                    </div>\n                    <div>\n                        <el-button size="mini" @click="handleClose">{{cancel}}</el-button>\n                        <el-button size="mini" @click="handleUpdate">{{update}}</el-button>\n                    </div>\n                </div>\n            </div>\n            </transition>\n        </div>\n    </template>\n\n    `;$(i).appendTo("body");var a=e.createShadowRoot(),l=document.querySelector("#vue-app-template"),o=document.importNode(l.content,!0);a.appendChild(o);var d={zh:{smart:"智能脚本",doNotShowAgain:"不再提示",enable:"启用",cancel:"取消",update:"立即更新",publish:"发布了新版本"},en:{smart:" Smart Scripts",doNotShowAgain:"Don`t Show This Again",enable:"Enable",cancel:"Cancel",update:"Update",publish:" Release New Version"}},s=navigator.language.match("zh")?d.zh:d.en;new Vue({el:a.querySelector("#app"),data:{dialogVisible:!1,content:n.description,text:n.text,status:n.status,needUpdate:!!n.latest,updateDesc:n.latest&&n.latest.updateDesc||"",name:n.name,smart:s.smart,doNotShowAgain:s.doNotShowAgain,enable:s.enable,cancel:s.cancel,update:s.update,publish:s.publish},mounted:function(){var e=this;chrome.storage.local.get(["noInstallTip"+n.id,"noUpdateTip"+n.id],function(t){n.disabled||e.text||t["noInstallTip"+n.id]||(e.dialogVisible=!0),n.disabled||!e.needUpdate||t["noUpdateTip"+n.id]||(e.dialogVisible=!0)})},methods:{handleClose:function(){this.dialogVisible=!1},handleEnable:function(){chrome.runtime.sendMessage({cmd:"ENABLE_AISCRIPT",id:n.id})},handleUpdate:function(){chrome.runtime.sendMessage({cmd:"UPDATE_AISCRIPT",newItem:n.latest})},noInstallTipAgain:function(e){var t={};t["noInstallTip"+n.id]=e,chrome.storage.local.set(t)},noUpdateTipAgain:function(e){var t={};t["noUpdateTip"+n.id]=e,chrome.storage.local.set(t)}}})}