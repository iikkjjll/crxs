function MSG(t,e){return chrome.i18n.getMessage(t,e)}function removeGA(){_gaq&&$('script[src$="/ga.js"]').length&&$('script[src$="/ga.js"]').remove()}$(function(){$("span[data-msg],option[data-msg]").each(function(t,e){var a=MSG($(e).attr("data-msg"));a&&$(e).html(a)}),$("input:button[data-msg],input:radio[data-msg]").each(function(t,e){var a=MSG($(e).attr("data-msg"));a&&$(e).val(a)}),$("[data-msg][data-msg-attr]").each(function(t,e){var a=$(e).attr("data-msg"),o=$(e).attr("data-msg-attr");$(e).attr(o,MSG(a))}),$("[data-msg-title]").each(function(t,e){var a=$(e).attr("data-msg-title");$(e).attr("title",MSG(a))})});var G_CONFIG={commonRuleUrl:gConfig.staticServer+"/aiscripts/rules.json?_="+Date.now(),getRules:function(){var t=this.getUserRules(),e=this.getCommonRules();return $.merge(t,e)},getCommonRules:function(){var t=[];if(void 0!=localStorage.commonRules&&""!=localStorage.commonRules)try{commonRules=JSON.parse(localStorage.commonRules),$(commonRules).each(function(e,a){t.push(a)})}catch(t){}return t},getUserRules:function(){var t=[];void 0==localStorage.userRules&&localStorage.userRules;try{userRules=JSON.parse(localStorage.userRules),$(userRules).each(function(e,a){t.push(a)})}catch(t){}return t},saveUserRule:function(t){var e=JSON.stringify(t,null,null);localStorage.userRules=e},updateCommonRule:function(t){$.get(this.commonRuleUrl,function(e){try{t=t||{},localStorage.commonRules=JSON.stringify(e),localStorage.ruleLastUpdateTime=new Date,"function"==typeof t.callback&&t.callback(e)}catch(t){}},"json")},setOutputTextFormat:function(t){localStorage.outputTextFormat=t},getOutputTextFormat:function(){return localStorage.outputTextFormat||'<img src="{LINK}"/>'},setRenameRule:function(t){localStorage.renameRule=t},getRenameRule:function(){return localStorage.renameRule||"pic_{NO001}.{EXT}"},setRenameMode:function(t){localStorage.renameMode=t},getRenameMode:function(){return localStorage.renameMode||"1"}},_gaq=_gaq||[];_gaq.push(["_setAccount",gConfig.ga]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://ssl.google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();